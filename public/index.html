<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paediatric Spleen Injury Guide</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="logo.png" alt="Logo" width="50" />
                NSW Government
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Trauma System</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Data</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Education</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Research</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Clinical Resources</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Banner Section -->
    <div class="banner">
        <h1>Management of Paediatric Spleen Injury</h1>
        <p></p>
        <p>Quick Reference Guide</p>
    </div>


    <!-- Top content section -->
    <div class="content-section">
        <p>
            The management of paediatric splenic injury: quick reference guide is an education tool and a practical
            guide for clinicians during the resuscitation of a child up to age 16 who is suspected of having a splenic
            injury.
        </p>
        <div class="info-box">
            <p>
                This quick reference guide is not intended to replace senior clinical
                decision-making. Any concerns should be escalated early through your
                local trauma network. It does not represent a systematic review of
                evidence; however, it provides links to various established clinical
                resources and high-level evidence where relevant.
            </p>
            <p>
                Not all content mentioned in this resource is necessarily within a
                clinician’s scope of practice.
            </p>
            <div class="alert-box">
                <span class="alert-icon">⚠️</span>
                <strong>All clinicians should work within their scope of practice.</strong>
            </div>
            <a href="#" class="info-link">About the guide</a>
        </div>
    </div>



    <div class="prepare-section">
        <div class="prepare-header">
            <div class="prepare-icon">
                <img src="prepare-icon.png" alt="Prepare Icon" />
            </div>
            <h2>Initial assessment</h2>
        </div>
    </div>

    <div class="detailed-prepare-section boxed">
        <h3>Initial assessment, early resuscitation & communication in a child with abdominal trauma and suspected
            splenic injury </h3>
        <div class="alert alert-danger">
            <strong>⚠️ Don’t delay, call for help early!</strong>
        </div>

        <p>Initial assessment of a seriously injured child follows the same structured approach as that of adult
            assessment</p>
        <p><strong>Goal:</strong></p>

        <ul>
            <li>Identify and treat immediately life-threatening injuries (primary survey)</li>
            <li>Initiate and optimise resuscitation

                <a href="#" class="me-1" data-bs-toggle="modal" data-bs-target="#myModel1HemodynamicComp"
                    onclick="event.preventDefault();">
                    Links 1a
                </a>

                and

                <a href="#" class="me-3" data-bs-toggle="modal" data-bs-target="#myModel1ResucitationPrinciples"
                    onclick="event.preventDefault();">
                    Links 1b
                </a>
            </li>
            <li>Assess for non-life-threatening injuries (secondary survey)</li>
        </ul>



        <p>Communicate early with retrieval services to obtain management support and determine if, when and how
            transfer will be required</p>

        <p>As in all trauma management, the primary survey is the first priority</p>

        <ul class="prepare-list">
            <li>Use APLS, RCH guidelines </li>
            <li>Local trauma team practices should be employed
                <ul>
                    <li>Trauma team/trauma response</li>
                    <li>Trauma call criteria</li>
                </ul>
            </li>
            <li>Frequent reassessment is essential</li>

            <p>Determine the haemodynamic status:</p>

            <ol>
                <li>There are no signs of haemodynamic compromise/ongoing

                    <a href="#group1Section" class="me-1"> <span class="text-custom-purple"> Group
                            1 </span></a> OR
                </li>

                <li>There were signs of haemodynamic compromise but there has been a sustained response to resuscitation
                    <a href="#group2Section" class="me-1"> <span class="text-custom-purple"> Group
                            2 </span></a> OR
                </li>
                <li>There are signs of ongoing haemodynamic compromise and/or ongoing bleeding, despite resuscitation
                    <a href="#group3Section" class="me-1"> <span class="text-custom-purple"> Group
                            3 </span></a> OR
                </li>
            </ol>

            </br>
            </br>

            <!--Flowchart 1 - initial assessment IA-->

            <pre class="mermaid">
                flowchart LR

                IA_A["Abdominal injury with suspected Spleen injury Age 0-16"] --> IA_sub_one

                subgraph IA_sub_one["Local trauma response"]
                    direction TB
                    IA_s_1_1["Mobilise local trauma teams/response and resources (e.g. radiology)"] --- IA_s_1_2["Primary survery link 1c"]
                    IA_s_1_2 --- IA_s_1_3["Assessing haemodynamic compromise [Link 1a]"]
                    IA_s_1_3 --- IA_s_1_4["Resusitation principles [Link 1b]"]
                    IA_s_1_4 --- IA_s_1_5["Abdo scan +/- FAST"]
                    IA_s_1_5 --- IA_s_1_6["Analgesia"]
                end

                IA_sub_one --> IA_C["Address immediately life-threatening issues as found
                Consider implications of associated life-threatening injuries.
                "]

                subgraph IA_sub_two["Secondary survey"]
                    direction TB
                    IA_s_2_1["Secondary survery"] --> IA_s_2_2["Consider implications of associated injuries Analgesia "]
                end

                IA_sub_one --> IA_sub_two
                IA_C --> IA_sub_two
                IA_C --> IA_D["Discussion re place of care based on grade, local resources and personnel [Link 14-place of care]"]
            
                IA_sub_two --> IA_D
                
                IA_sub_two --> IA_E["Suspected ongoing bleeding"]
                IA_sub_two --> IA_F["Sustained response to resusitation"]
                IA_sub_two --> IA_G["No signs of ongoing bleeding"]
                IA_D --> IA_H["Transfer services[Link 15]"]
                
                linkStyle 0,6,8,9,14 stroke:#0000FF,stroke-width:2px;
                linkStyle 10,11,12,13,15 stroke:#FF0000,stroke-width:2px;

               

                click IA_s_1_2 href "https://www.rch.org.au/clinicalguide/guideline_index/Major_paediatric_trauma_The_primary_survey/" "RCH primary survey" _blank
                click IA_s_1_3 callback "Haemodynamic compromise Link 1a"
                click IA_s_1_4 callback "Resusitation principles 1b"
                click IA_D callback "Place of care"
                click IA_H callback "Transfer services"
                

            </pre>

    </div>


    <!-- Modal Structure - Hemodynamic Compromise-->
    <div class="modal fade" id="myModel1HemodynamicComp" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitleAsseingHemo">Assessing haemodynamic compromise</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body">
                    <p>Definition of haemodynamic compromise: loss of enough circulating blood volume to cause
                        physiological changes.</p>
                    <p>There is no single measure of haemodynamic compromise at any one point in time .</p>
                    <p>Frequent re-assessment of multiple parameters is essential, integrating clinical and haemodynamic
                        parameters to detect subtle signs of haemodynamic compromise developing over time
                    </p>
                    <h6>Signs of haemodynamic compromise may include</h6>
                    <ul>
                        <li>Obvious route of blood loss (external/ long bone fractures, intrathoracic clinically or seen
                            on CXR, intraperitoneal seen on e-FAST, retroperitoneal, pelvic fracture).N.b., e-FAST to
                            direct investigation and management in injured children is not validated but reference is
                            included as it may be in use in non-paediatric centres. </li>
                        <li>Vital signs, colour </li>
                        <li>Respiratory rate, level of consciousness</li>
                        <li>Heart rate (although can be up due to pain and fear)</li>
                        <li>Central capillary refill</li>
                        <li>• Blood pressure – <b>n.b., Falling blood pressure is a late sign</b> of haemodynamic
                            compromise and may signal imminent circulatory collapse</li>
                    </ul>

                    <p>Any recurrent haemodynamic compromise is likely to occur within a relatively short space of time,
                        whereas lack of sustained Hb response to transfusion with no other signs of haemodynamic
                        compromise may occur over 12-48 hours</p>
                    <p>A drop in Hb of 5g/l is expected if a crystalloid fluid bolus of 10-20mls/kg has been given and
                        does not necessarily represent ongoing bleeding.</p>

                    <h6>Trauma bloods</h6>

                    <ul>
                        <li>FBC</li>
                        <li>EUC</li>
                        <li>LFT’s</li>
                        <li>Lipase</li>
                        <li>X Match/Group & hold</li>
                        <li>Coagulation</li>
                        <li>UA</li>
                    </ul>
                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal Structure - Resuscitation principles-->
    <div class="modal fade" id="myModel1ResucitationPrinciples" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <!-- Back Button with Arrow -->
                    <button id="backBtn" class="d-none backBtn" aria-label="Back">&larr;</button>
                    <h5 class="modal-title mx-auto" id="modalTitleResusitation">Resuscitation principles</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body" id="modalBody">
                    <p>Goal: resuscitate and achieve source control </p>
                    <p>The need for circulatory resuscitation is based on </p>

                    <ul>
                        <li>Signs haemodynamic compromise (with or without crystalloid bolus) Check "Assessing
                            Haemodynamic Compromise" (Link 1a) </li>
                        <li> Hb&lt70g/L </li>
                        <li>Evidence of ongoing bleeding</li>
                    </ul>
                    <p>Do not wait for blood results before starting resuscitation</p>
                    <p>Frequent re-assessment is essential, integrating clinical and haemodynamic parameters </p>
                    <p><b>There is no place for ‘permissive hypotension’ in this age group</b></p>


                    <p>Management</p>

                    <ul>
                        <li>Concurrently</li>
                        <li><b>Ensure physical control of other haemorrhage sources </b>(pressure/tourniquet/pack
                            wounds)</li>
                        <li><b>Establish IV access</b>– two, as large a possible (take trauma bloods at insertion)</li>
                        <li><b>Stabilise fractures</b>/apply pelvic binder</li>
                        <li><b>Instigate early activation of MTP</b> according to local criteria. link: SCHN MTP or
                            relevant <a href="https://www.health.nsw.gov.au/child-family-health-services"
                                target="_blank">Local MTP</a>
                        </li>
                        <li>If haemodynamic compromise is present, volume is required. <b>Avoid crystalloid if possible
                                and
                                give blood as soon as available.</b> Start with 10mls/kg, reassess and repeat as
                            required [link
                            – resuscitation]</li>
                        <li>If there is a delay accessing blood or blood is not available, start with crystalloid
                            (normal saline), <b>changing to blood ASAP,</b> to limit the adverse effects of
                            crystalloids,
                            including worsening coagulopathy.</li>
                        <li>Give TXA 15 mg/kg then consider TXA infusion 2mg/kg/hr</li>
                        <li>A transfusion threshold of 7.0 g/dL is reasonable for children undergoing NOM for BLSI even
                            if other signs of haemodynamic compromise are absent</li>
                        <li>Assess response to resuscitation [link 1a], including use of point of care testing (ROTEM or
                            TEG) in context of MTP</li>

                    </ul>

                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <div id="group1Section" class="group-section">

        <div class="card bg-light mb-4 group-section-header-card">
            <div class="card-body">
                <h4 class="card-title mb-0">Group 1 - No signs of ongoing hemodynamic compromise</h4>
            </div>
        </div>


        <div class="group-content-box">


            <p>This group represents the vast majority of children and young people with splenic injury. </p>

            <ul class="prepare-list">
                <li>CT scan is recommended when splenic injury or other intraabdominal injuries are suspected.


                    <a href="#" class="me-3" data-bs-toggle="modal" data-bs-target="#myModelCTScan"
                        onclick="event.preventDefault();">
                        [link 10 - CT Scan]
                    </a>

                </li>
                <li>Where there are no signs of haemodynamic compromise, and no other abdominal injuries that
                    necessitate laparotomy (e.g., hollow viscus, impalement), <b>non-operative management is
                        almost
                        always successful, and splenectomy is virtually never required </b> <a href="#" class="me-3"
                        data-bs-toggle="modal" data-bs-target="#myModelSurgicalPrinciples"
                        onclick="event.preventDefault();">
                        [Link 16 Surgical
                        principles]
                    </a>
                </li>
                <li>This is regardless of the spleen injury grade.</li>
                <li>Similarly, <b>there is rarely an indication for angioembolisation</b> in the child/young
                    person
                    with no signs of ongoing bleeding or haemodynamic compromise <a href="#" class="me-3"
                        data-bs-toggle="modal" data-bs-target="#myModelAngeoembolisationPrinciples"
                        onclick="event.preventDefault();">
                        [link 17 angioembolisation
                        principles]
                    </a>. This is also regardless of the spleen injury grade.</li>
                <li>Children/young people with Grade 1-3 splenic injuries may be managed away from a
                    paediatric trauma centre, depending on other injuries, local personnel, resources and
                    policies. <a href="#" class="me-3" data-bs-toggle="modal" data-bs-target="#myModelPlaceOfCare"
                        onclick="event.preventDefault();">
                        [Link- place of care]
                    </a></li>
            </ul>

            </br>
            </br>

            <!--Flowchart 2 - No signs of hemodynamic compromise G1 (pathway 1)-->

            <pre class="mermaid">

                flowchart LR
        
                G1_A["Start here"] --> G1_B["No suspected ongoing bleeding"]
                G1_B --> G1_C["Consider CT scan [Link CT scan]"]
                G1_C --> G1_D["Injury found that required operation or other intervention"]
                G1_D --> G1_E["Discussion re place of care based on grade, local resources and personnel [Link 14-place of care]"]
                G1_C --> G1_G["No injuries requiring intervention"]
                G1_G --> G1_H["Admit to ward [Link 12 ward management]"]
                G1_H --> G1_I["Sign of haemodynamic compromise or Hb70 "]
                G1_H --> G1_sub_one
                subgraph G1_sub_one["Discharge"]
                    direction TB
                    G1_s_1_1["Discharge criteria [Link]"] --> G1_s_1_2["Post discharge information sheet [Link] "]
                end        
                G1_C --> G1_I
                G1_D --> G1_F["Intervention locally"]
                G1_I --> G1_J["Suspected ongoing bleeding pathway"]
                G1_E --> G1_K["Transfer services"]
                G1_G --> G1_E

                linkStyle 0,1,4,5,7,13 stroke:#0000FF,stroke-width:2px;
                linkStyle 2,3,6,9,10,11,12 stroke:#FF0000,stroke-width:2px;

                click G1_C callback "CT scan"
                click G1_H callback "Ward management"
                click G1_E callback "Place of care"
                click G1_K callback "Transfer services"
        
            </pre>



        </div>



    </div>

    <div id="group2Section" class="group-section">

        <div class="card bg-light mb-4 group-section-header-card">
            <div class="card-body">
                <h4 class="card-title mb-0">Group 2 - Initially haemodynamically compromised but sustained response to
                    resuscitation</h4>
            </div>
        </div>

        <div class="group-content-box">

            <ul class="prepare-list">
                <li>Primary survey, Haemodynamic assessment and Resuscitation principles should be followed
                    [ <a href="#" class="me-1" data-bs-toggle="modal" data-bs-target="#myModel1HemodynamicComp"
                        onclick="event.preventDefault();">
                        Link 1a
                    </a>, <a href="#" class="me-3" data-bs-toggle="modal"
                        data-bs-target="#myModel1ResucitationPrinciples" onclick="event.preventDefault();">
                        Links 1b
                    </a>, link 1 c – RCH primary survey]</li>
                <li>CT scan is recommended when splenic injury or other intraabdominal injuries are suspected,
                    as long as the child is no longer hemodynamically compromised with or without ongoing
                    resuscitation. <a href="#" class="me-3" data-bs-toggle="modal" data-bs-target="#myModelCTScan"
                        onclick="event.preventDefault();">
                        [link 10 - CT Scan]
                    </a></li>
                <li>Where the child/young person has a sustained response to resuscitation, and there are no
                    other abdominal injuries that necessitate laparotomy (e.g., hollow viscus, impalement),
                    non-operative management <a href="#" class="me-3" data-bs-toggle="modal"
                        data-bs-target="#myModelSurgicalPrinciples" onclick="event.preventDefault();">
                        [Link 16 Surgical
                        principles]
                    </a> is still almost always successful,
                    and splenectomy is virtually never required. This is regardless of the spleen injury grade.
                </li>
                <li>Similarly, there is usually not an indication for angioembolisation <a href="#" class="me-3"
                        data-bs-toggle="modal" data-bs-target="#myModelAngeoembolisationPrinciples"
                        onclick="event.preventDefault();">
                        [link 17 angioembolisation
                        principles]
                    </a> It may be considered if resuscitation requirements were considerable, the
                    Hb continues to fall without haemodynamic compromise, and the grade of injury on CT scan is
                    amenable to management with angioembolisation (grade IV-V with contrast blush) </li>
                <li>Where there has been haemodynamic compromise, transfer to a trauma centre with the resources
                    and personnel for looking after the child/young person is advised if it is safe to do so. In
                    post pubertal children/young people this may be a paediatric trauma centre or a regional
                    trauma
                    centre. In younger children this is a paediatric trauma centre</li>

            </ul>

            </br>
            </br>

            <!--Flowchart 3 - Initially haemodynamically compromised G2-->

            <pre class="mermaid">

                flowchart LR

                G2_A["Start here"] --> G2_sub_one
                subgraph G2_sub_one["Sustained haemo response"]
                    direction TB
                    G2_s_1_1["Assessing haemodynamic compromise [Link 1a]"] --- G2_s_1_2["Resusitation principles [Link 1b] "]
                end  

                G2_sub_one --> G2_B["CT scan [Link CT scan]"]

                subgraph G2_sub_two["ICU/PICU"]
                    direction TB
                    G2_s_2_1["Monitoring, hourly BTF obs, consider invasive BP monitoring"] --> G2_s_2_2["Consider other sources of blood
                    loss"]
                    G2_s_2_2 --> G2_s_2_3["Continue to follow paediatric resuscitation principles [Links 1a and 1b]"]
                    G2_s_2_3 --> G2_s_2_4["Hb Q6h until stable"]
                    G2_s_2_4 --> G2_s_2_5["Bed rest and NBM, analgesia"]
                    G2_s_2_5 --> G2_s_2_6["Consider mechanical VTE prophylaxis if post pubertal"]
                end

                G2_B --> G2_sub_two
                G2_B --> G2_C["Injury found that required operation or other intervention"]
                G2_C --> G2_D["Intervention locally"]
                G2_D --> G2_sub_two

                

                G2_D --> G2_E["Discussion re place of care based on grade, local resources and personnel [Link 14-place of care]"]
                G2_sub_two --> G2_F["Suspected ongoing bleeding pathway"]
                G2_E --> G2_G["Transfer services"]
                G2_sub_two --> G2_H["Hv stable x2 and >7*, vital signs normal"]
                G2_H --> G2_I["Admit to ward [Link 12]"]
                G2_I --> G2_J["Recurrent haemodynamic compromise or Hb more than 70"]
                G2_I --> G2_sub_four
                subgraph G2_sub_four["Discharge"]
                direction TB
                    G2_s_4_1["Discharge criteria [Link]"] -->
                    G2_s_4_2["Post discharge information sheet [Link]"]
                end
                G2_J --> G2_sub_two
                G2_C --> G2_E
                G2_E <--> G2_sub_two
                

                linkStyle 0,2,8,11,15,16,18,22 stroke:#0000FF,stroke-width:2px;
                linkStyle 9,10,12,13,14,17,20,21 stroke:#FF0000,stroke-width:2px;

                click G2_s_1_1 callback "Link 1a-Hemodynamic compromise"
                click G2_s_1_2 callback "Link 1b-Resuscitation principles"
                click G2_B callback "CT scan"
                click G2_E callback "Link 14-Place of care"
                click G2_I callback "Link 12-Ward management"
                click G2_G callback "Link 15-Transfer services"
    
            </pre>


        </div>


    </div>

    <div id="group3Section" class="group-section">

        <div class="card bg-light mb-4 group-section-header-card">
            <div class="card-body">
                <h4 class="card-title mb-0">Group 3 - Suspected ongoing bleeding</h4>
            </div>
        </div>

        <div class="group-content-box">
            <p>Suspected ongoing bleeding is a rare occurrence with splenic injury. Thus, another source of
                ongoing blood loss may be responsible for, or contributing, to the haemodynamic compromise
                Ongoing bleeding is indicated by
            </p>
            <ul class="prepare-list">
                <li>persistent haemodynamic compromise despite resuscitation (“non-responder”) or </li>
                <li>recurrent haemodynamic compromise after resuscitation (“transient responder”), or </li>
                <li>lack of sustained Hb response to transfusion</li>

                <p>Recurrent haemodynamic compromise is likely to be within a relatively short space of time.
                    Lack of sustained Hb response without haemodynamic compromise may be over 12-48 hours
                    Follow resuscitation principles [link 1a and 1b]
                </p>
            </ul>

            </br>
            </br>


            <!--Flowchart 4 - Suspected ongoing bleeding G3-->

            <pre class="mermaid">

                flowchart LR

                G3_A["Start here"] --> G3_sub_one
                subgraph G3_sub_one["Resuscitation"]
                    direction TB
                    G3_s_1_1["Assessing haemodynamic compromise [Link 1a]"] --- G3_s_1_2["Resusitation link 1b"]
                end
                G3_sub_one --> G3_B["CT Scan if safe to do so (contrast enhanced)"]
                G3_sub_one --> G3_sub_two
                subgraph G3_sub_two["ICU/PICU"]
                    direction TB
                    G3_s_2_1["ICU/PICU"] --> G3_s_2_2["Monitoring, hourly BTF obs"]
                    G3_s_2_2 --> G3_s_2_3["Invasive BP monitoring"]
                    G3_s_2_3 --> G3_s_2_4["Consider other sources of blood loss"]
                    G3_s_2_4 --> G3_s_2_5["Continue to follow paediatric resuscitation principles"]
                    G3_s_2_5 --- G3_s_2_6["Haemodynamic compromise Link 1a"]
                    G3_s_2_6 --- G3_s_2_7["Resusciation Link 1b"]
                    G3_s_2_7--> G3_s_2_8["Hb Q6h until stable"]
                    G3_s_2_8 --> G3_s_2_9["Bed rest and NBM, analgesia"]
                    G3_s_2_9 --> G3_s_2_10["Consider mechanical VTE prophylaxis if post pubertal"]
                end
                G3_sub_two --> G3_C["Hb stable x2 <br> Sital signs normal"]
                G3_C --> G3_D["Sustained response to resuscitation link 3"]
                G3_sub_two --> G3_E["Persistent or recurrent haemodynamic compromise OR <br> Lack of sustained Hb response to PRBCs
                over 12-48 hours <br> (up to 40mls/kg PRBCs) +/- MTP"]
                G3_E --> G3_F["Failure of NOM Algorithm"]
                G3_F --> G3_G["Discussion re place of care based on grade, local resources and personnel [Link 14-place of care]"]
                
                G3_sub_one --> G3_G
                G3_G --> G3_H["Transfer services"]
                G3_F --> G3_I["Judicious NOM"]
                G3_F --> G3_J["Consider operation Link 16 Surgical principles"]
                G3_F --> G3_K["Consider angeography [angioembolisation Link 17]"]

                linkStyle 2,13,14 stroke:#0000FF,stroke-width:2px;
                linkStyle 0,3,15,16,17,18,19,20,21,22 stroke:#FF0000,stroke-width:2px;

                click G3_s_1_1 callback "Haemodynamic compromise link 1a"
                click G3_s_1_2 callback "Resusitation link 1b"
                click G3_s_2_6 callback "Haemodynamic compromise link 1a"
                click G3_s_2_7 callback "Resusitation link 1b"
                click G3_G callback "Link 14-Place of care"
                click G3_H callback "Link 15-Interfacility transfer"
                click G3_J callback "Link 16-Surgical principles"
                click G3_K callback "Link 17-Angioembolisation principles"
        
            </pre>



        </div>

    </div>

    <!-- Modal Structure - CT Scan-->

    <div class="modal fade" id="myModelCTScan" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <!-- Back Button with Arrow -->
                    <button id="backBtnCTScan" class="d-none backBtn" aria-label="Back">&larr;</button>
                    <h5 class="modal-title mx-auto" id="modalTitleCTScan">CT Scan</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body" id="modalBodyCTScan">

                    <p>IV contrast enhanced CT scan is the gold standard for detecting intraabdominal injury, providing
                        there are no contraindications, and the patient is not hemodynamically compromised, or is
                        responsive to ongoing resuscitation</p>

                    <p>The child must be stable enough to go to the CT scanner – with or without ongoing resuscitation
                    </p>

                    <p>Local capacity to safely do the scan is needed </p>

                    <ul>
                        <li>The child must be accompanied to the CT scanner by appropriate medical and nursing personnel
                        </li>
                    </ul>


                    <p>Consider CT scan if splenic injury or other intraabdominal injury is suspected or cannot be
                        excluded based on your evaluation, including factors such as:</p>

                    <uL>
                        <li>There has been haemodynamic compromise, responsive to resuscitation, or Hct has fallen with
                            no other obvious explanation</li>
                        <li>There is abdominal tenderness, distention, bruising or signs of peritonitis</li>
                        <li>There is macroscopic haematuria</li>
                        <li>The ALT is elevated 3 times above normal</li>
                        <li>The pelvic x-ray shows findings of pelvic trauma (fracture +/- dislocation)</li>
                        <li>e-FAST scan is positive</li>
                        <li>Traumatic brain injury is present making abdominal assessment difficult</li>
                        <li>Significant thoracic injury is suspected</li>
                        <li>Injury mechanism is concerning</li>
                    </uL>

                    <p>NB: CT findings alone do not dictate the need for intervention for solid organ injury including
                        the spleen. This includes the spleen injury grade, and presence of contrast blush,
                        pseudoaneurysm, and haemoperitoneum. Decisions about angioemolisation
                        <a class="modal-link" id="nextPageLinkCTScanAngioembolisation">[link 17 angioembolisation
                            principles]</a>.
                    </p>

                    <p>or operative management <a class="modal-link" id="nextPageLinkSurgicalPrinciples"> [16 Surgical
                            principles] </a>are based on the degree of haemodynamic
                        compromise along with CT scan findings </p>

                    <p>CT scan findings, including grade of splenic injury and other injuries may influence decision
                        about treatment/interventions required, place of care and transfer <a class="modal-link"
                            id="nextPageLinkPlaceofCare">[Link 14- place of care]</a>
                        <a class="modal-link" id="nextPageLinkInterfacilityTransfer">[link 15 Interfacility
                            transfer]</a>
                    </p>



                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>


    <!-- Modal Structure - Link 16 Surgical Principles-->

    <div class="modal fade" id="myModelSurgicalPrinciples" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <!-- Back Button with Arrow -->
                    <button id="backBtnSurgicalPrinciples" class="d-none backBtn" aria-label="Back">&larr;</button>
                    <h5 class="modal-title mx-auto" id="modalTitleSurgicalPrinciples">Surgical Principles</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body" id="modalBodySurgicalPrinciples">

                    <p>An operation is rarely required in the child/young person with splenic injury, even in the
                        context of other solid organ injuries.</p>
                    <ul>
                        <li>Isolated splenic injury – less than 1% require laparotomy</li>
                        <li>Splenic injury with other intra-abdominal injuries – up to 11% may require an operation.
                        </li>
                    </ul>
                    <p>Consider operation in a child/young person with splenic injury in the context of:</p>
                    <ul>
                        <li>Ongoing intra-abdominal bleeding</li>
                        <li>Contributing to ongoing haemodynamic compromise despite resuscitation</li>
                        <li>Other intra-abdominal injuries requiring operation (e.g., hollow viscus injury)</li>
                    </ul>
                    <p>Operation is preferred over angioembolisation in the setting of other intra-abdominal injuries
                        that may be contributing to compromise.</p>
                    <p>Splenic preservation is pursued if possible.</p>


                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal Structure - Link 17 Angioembolisation Principles-->

    <div class="modal fade" id="myModelAngeoembolisationPrinciples" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <!-- Back Button with Arrow -->
                    <button id="backBtnAngeoembolisationPrinciples" class="d-none backBtn"
                        aria-label="Back">&larr;</button>
                    <h5 class="modal-title mx-auto" id="modalTitleAngeoembolisationPrinciples">Angioembolisation
                        Principles</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body" id="modalBodyAngeoembolisationPrinciples">

                    <script type="module">
                        // Import the named export containing HTML
                        import { angioembolisationBody } from './modalContents.js';

                        // Select the target div and insert the HTML content
                        document.getElementById('modalBodyAngeoembolisationPrinciples').innerHTML = angioembolisationBody;
                    </script>


                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal Structure - Place of care -->

    <div class="modal fade" id="myModelPlaceOfCare" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <!-- Back Button with Arrow -->
                    <button id="backBtnPlaceOfCare" class="d-none backBtn" aria-label="Back">&larr;</button>
                    <h5 class="modal-title mx-auto" id="modalTitlePlaceOfCare"> Place of Care
                        Principles</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body" id="modalBodyPlaceOfCare">

                    <script type="module">
                        // Import the named export containing HTML
                        import { placeOfCareBody } from './modalContents.js';

                        // Select the target div and insert the HTML content
                        document.getElementById('modalBodyPlaceOfCare').innerHTML = placeOfCareBody;
                    </script>


                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal Structure - Ward Management -->

    <div class="modal fade" id="myModelWardManagement" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <!-- Back Button with Arrow -->
                    <button id="backBtnWardManagement" class="d-none backBtn" aria-label="Back">&larr;</button>
                    <h5 class="modal-title mx-auto" id="modalTitleWardManagement"> Ward Management</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body" id="modalBodyWardManagement">

                    <script type="module">
                        // Import the named export containing HTML
                        import { wardManagementBody } from './modalContents.js';

                        // Select the target div and insert the HTML content
                        document.getElementById('modalBodyWardManagement').innerHTML = wardManagementBody;
                    </script>


                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal Structure - Interfacility transfer -->

    <div class="modal fade" id="myModelInterfacilityTransfer" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <!-- Back Button with Arrow -->
                    <button id="backBtnInterfacilityTransfer" class="d-none backBtn" aria-label="Back">&larr;</button>
                    <h5 class="modal-title mx-auto" id="modalTitleInterfacilityTransfer"> Interfacility Transfer
                        Principles</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body" id="modalBodyInterfacilityTransfer">

                    <script type="module">
                        // Import the named export containing HTML
                        import { interfacilityTransferBody } from './modalContents.js';

                        // Select the target div and insert the HTML content
                        document.getElementById('modalBodyInterfacilityTransfer').innerHTML = interfacilityTransferBody;
                    </script>
                </div>
                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-light text-center text-lg-start mt-5">
        <div class="text-center p-3">
            © 2025 - Paediatric Spleen Injury guide (Last updated: 2025-06-05)
        </div>
    </footer>

    <!-- jQuery (needed for our custom trigger) -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <script type="module" src="modelContentResusitation_v2.js"></script>
    <script type="module" src="modelCTScan.js"></script>

    <script>
        window.callback = function (id) {
            console.log('Callback function called ' + id);

            switch (id) {
                //Initial assessment node clicks
                case "IA_s_1_3":
                    var myModal = new bootstrap.Modal(document.getElementById('myModel1HemodynamicComp'));
                    myModal.show();
                    break;
                case "IA_s_1_4":
                    var myModal = new bootstrap.Modal(document.getElementById('myModel1ResucitationPrinciples'));
                    myModal.show();
                    break;
                case "IA_D":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelPlaceOfCare'));
                    myModal.show();
                    break;
                case "IA_H":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelInterfacilityTransfer'));
                    myModal.show();
                    break;
                //Group 1 Node Clicks
                case "G1_C":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelCTScan'));
                    myModal.show();
                    break;
                case "G1_E":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelPlaceOfCare'));
                    myModal.show();
                    break;
                case "G1_H":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelWardManagement'));
                    myModal.show();
                    break;
                case "G1_K":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelInterfacilityTransfer'));
                    myModal.show();
                    break;
                //Group 2 Node Clicks
                case "G2_s_1_1":
                    var myModal = new bootstrap.Modal(document.getElementById('myModel1HemodynamicComp'));
                    myModal.show();
                    break;
                case "G2_s_1_2":
                    var myModal = new bootstrap.Modal(document.getElementById('myModel1ResucitationPrinciples'));
                    myModal.show();
                    break;
                case "G2_B":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelCTScan'));
                    myModal.show();
                    break;
                case "G2_E":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelPlaceOfCare'));
                    myModal.show();
                    break;
                case "G2_G":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelInterfacilityTransfer'));
                    myModal.show();
                    break;
                case "G2_I":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelWardManagement'));
                    myModal.show();
                    break;
                //Group 3 Node Clicks

                // click G3_s_1_1 callback "Haemodynamic compromise link 1a"
                // click G3_s_1_2 callback "Resusitation link 1b"
                // click G3_s_2_6 callback "Haemodynamic compromise link 1a"
                // click G3_s_2_7 callback "Resusitation link 1b"
                // click G3_G callback "Link 14-Place of care"
                // click G3_H callback "Link 15-Interfacility transfer"
                // click G3_J callback "Link 16-Surgical principles"
                // click G3_K callback "Link 17-Angioembolisation principles"


                case "G3_s_1_1":
                    var myModal = new bootstrap.Modal(document.getElementById('myModel1HemodynamicComp'));
                    myModal.show();
                    break;
                case "G3_s_1_2":
                    var myModal = new bootstrap.Modal(document.getElementById('myModel1ResucitationPrinciples'));
                    myModal.show();
                    break;
                case "G3_s_2_6":
                    var myModal = new bootstrap.Modal(document.getElementById('myModel1HemodynamicComp'));
                    myModal.show();
                    break;
                case "G3_s_2_7":
                    var myModal = new bootstrap.Modal(document.getElementById('myModel1ResucitationPrinciples'));
                    myModal.show();
                    break;
                case "G3_G":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelPlaceOfCare'));
                    myModal.show();
                    break;
                case "G3_H":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelInterfacilityTransfer'));
                    myModal.show();
                    break;
                case "G3_J":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelSurgicalPrinciples'));
                    myModal.show();
                    break;
                case "G3_K":
                    var myModal = new bootstrap.Modal(document.getElementById('myModelAngeoembolisationPrinciples'));
                    myModal.show();
                    break;
                default:
                    console.log('ID not recognized');
            }

        };
        const config = {
            startOnLoad: true,
            flowchart: { useMaxWidth: true, htmlLabels: true, curve: 'basis' },
            securityLevel: 'loose',
        };
        mermaid.initialize(config);

        //curveStep looks nice

    </script>


</body>

</html>